---
title: 所有数对中数位差之和
categories:
  - 中等
tags: 
  - 数组
  - 数学
  - 计数
slug: sum-of-digit-differences-of-all-pairs
number: 3153
---

## 题目描述：

你有一个数组 `nums` ，它只包含 **正** 整数，所有正整数的数位长度都 **相同** 。

两个整数的 **数位差** 指的是两个整数 **相同** 位置上不同数字的数目。

请你返回 `nums` 中 **所有** 整数对里， **数位差之和。**

**示例 1：**

```
输入： nums = [13,23,12]
输出： 4
解释：
计算过程如下：
- 1 3 和 2 3 的数位差为 1 。
- 1 3 和 1 2 的数位差为 1 。
- 23 和 12 的数位差为 2 。
所以所有整数数对的数位差之和为 `1 + 1 + 2 = 4` 。
```
**示例 2：**

```
输入： nums = [10,10,10,10]
输出： 0
解释：
数组中所有整数都相同，所以所有整数数对的数位不同之和为 0 。
```
**提示：**

- `2 <= nums.length <= 105`
- `1 <= nums[i] < 109`
- `nums` 中的整数都有相同的数位长度。

---
## 解题分析及思路：

### 方法：计数

**思路：**

定义一个 10 * 10 的二维数组，用于记录数所有位数（数的下标值）的值（0～9）的数量，

遍历每个数的所有位数，将其所有位数的值的数量放在一个数组内，例如`13, 23, 12`，分别对所有个位、十位的数量进行统计。


统计某个数的所有位数可以采用余和除结合的方式，其中的mod则为各个位数的值
```go
for num != 0{
  mod = num % 10
  num = num / 10
}
```

最后统计所有位数的数量的差值即可，例如：其中 l 是数组 num 的长度，nums数组中个位的数量分别为`0,2,1,....`，那么个位的数位差为 (2 * (3 - 2) + 1 * (3 - 1) )/ 2


之所以二维数组是10*10，是因为nums的长度不超过10，所有的数字也只有10种可能。

```go
func sumDigitDifferences(nums []int) (result int64) {
	var countArr = [10][10]int{}
	for i := range nums {
		var index = 0
		for nums[i] != 0 {
			countArr[index][nums[i]%10]++
			nums[i] /= 10
			index++
		}
	}
	for i := 0; i < 10; i++ {
		for j := 0; j < 10; j++ {
			result += int64(countArr[i][j] * (len(nums) - countArr[i][j]))
		}
	}
	result /= 2
	return
}
```

**复杂度：**

- 时间复杂度：O(C * C 或 N * M)，C为10，N为数组的长度，M为数组中数字的位数
- 空间复杂度：O(C * C)

**执行结果：**

- 执行耗时:117 ms,击败了43.90% 的Go用户
- 内存消耗:7.8 MB,击败了90.24% 的Go用户
