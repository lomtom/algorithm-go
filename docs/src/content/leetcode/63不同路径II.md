---
title: ä¸åŒè·¯å¾„II
categories:
  - ä¸­ç­‰
tags:
  - åŠ¨æ€è§„åˆ’
  - æ•°ç»„
number: 63
slug: unique-paths-ii
---

**é¢˜ç›®æè¿°ï¼š**

ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª m x n ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œStartâ€ ï¼‰ã€‚

æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œFinishâ€ï¼‰ã€‚

ç°åœ¨è€ƒè™‘ç½‘æ ¼ä¸­æœ‰éšœç¢ç‰©ã€‚é‚£ä¹ˆä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’å°†ä¼šæœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ

ç½‘æ ¼ä¸­çš„éšœç¢ç‰©å’Œç©ºä½ç½®åˆ†åˆ«ç”¨ 1 å’Œ 0 æ¥è¡¨ç¤ºã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šobstacleGrid = [[0,0,0],[0,1,0],[0,0,0]] 
è¾“å‡ºï¼š2 
è§£é‡Šï¼š3x3 ç½‘æ ¼çš„æ­£ä¸­é—´æœ‰ä¸€ä¸ªéšœç¢ç‰©ã€‚ 
ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ä¸€å…±æœ‰ 2 æ¡ä¸åŒçš„è·¯å¾„ï¼š 
1. å‘å³ -> å‘å³ -> å‘ä¸‹ -> å‘ä¸‹ 
2. å‘ä¸‹ -> å‘ä¸‹ -> å‘å³ -> å‘å³ 
```
![](/img/leetcode/63ä¸åŒè·¯å¾„II/robot1.jpg)

**ç¤ºä¾‹ 2ï¼š**
```
è¾“å…¥ï¼šobstacleGrid = [[0,1],[0,0]] 
è¾“å‡ºï¼š1
```

![](/img/leetcode/63ä¸åŒè·¯å¾„II/robot2.jpg)

**æç¤ºï¼š**
- m == obstacleGrid.length
- n == obstacleGrid[i].length
- 1 <= m, n <= 100 
- obstacleGrid[i][j] ä¸º 0 æˆ– 1

---
**è§£é¢˜åˆ†æåŠæ€è·¯ï¼š**

æ­¤é¢˜ä¸º[62ã€ä¸åŒè·¯å¾„](../leetcode/62ä¸åŒè·¯å¾„)çš„è¿›é˜¶ç‰ˆæœ¬ï¼Œä¸å…¶å”¯ä¸€ä¸åŒçš„æ˜¯è·¯ä¸Šè®¾ç½®çš„è·¯éšœã€‚

å¯¹äºæœºå™¨äººæ‰€åœ¨ä½ç½®`(i,j)`,å› ä¸ºæ­¤å¤„å¯èƒ½ä¼šè®¾æœ‰è·¯éšœï¼Œé‚£ä¹ˆæœºå™¨äººä»åˆ°è¾¾æ­¤å¤„æœ‰ä¸¤ç§å¯èƒ½ï¼š

- å¦‚æœä½ç½®`(i,j)`è®¾æœ‰è·¯éšœğŸš§ï¼Œé‚£ä¹ˆåˆ™è¡¨ç¤ºæ— æ³•åˆ°è¾¾è¯¥ä½ç½®ï¼Œæ­¤æ—¶è·¯å¾„æ¡æ•°ä¸º0ï¼›
- å¦‚æœä½ç½®`(i,j)`æœªè®¾æœ‰è·¯éšœï¼Œé‚£ä¹ˆåˆ™è¡¨ç¤ºå¯ä»¥åˆ°è¾¾è¯¥ä½ç½®ï¼Œæ­¤æ—¶è·¯å¾„æ¡æ•°ä¸ºè¯¥ä½ç½®å·¦æ–¹ä½ç½®ä¸ä¸Šæ–¹ä½ç½®æ¡æ•°ä¹‹å’Œã€‚

æ‰€ä»¥å¯¹åº”çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š

````
f(i,j)=f(iâˆ’1,j)+f(i,jâˆ’1)		`(i,j)`æœªè®¾æœ‰è·¯éšœ
f(i,j)=0										`(i,j)`è®¾æœ‰è·¯éšœğŸš§
````

é‚£ä¹ˆå¯¹åº”åŠ¨æ€è§„åˆ’è§£æ³•ï¼š

1. å®šä¹‰çŠ¶æ€ï¼š åœ¨è¿™ä¸ªé—®é¢˜ä¸­ï¼ŒçŠ¶æ€å¯ä»¥å®šä¹‰ä¸ºåˆ°è¾¾æ¯ä¸ªä½ç½®æ—¶çš„ä¸åŒè·¯å¾„æ•°é‡ã€‚æˆ‘ä»¬ä½¿ç”¨äºŒç»´æ•°ç»„ `dp` è¡¨ç¤ºçŠ¶æ€ï¼Œå…¶ä¸­ `dp[i][j]` è¡¨ç¤ºåˆ°è¾¾ç½‘æ ¼ä½ç½® `(i, j)` æ—¶çš„ä¸åŒè·¯å¾„æ•°é‡ã€‚

2. æ‰¾åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ï¼Œå› æ­¤åˆ°è¾¾å½“å‰ä½ç½® `(i, j)` çš„ä¸åŒè·¯å¾„æ•°é‡ç­‰äºåˆ°è¾¾ä¸Šæ–¹ä½ç½® `(i-1, j)` å’Œåˆ°è¾¾å·¦æ–¹ä½ç½® `(i, j-1)` çš„è·¯å¾„æ•°é‡ä¹‹å’Œã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¯ä»¥è¡¨ç¤ºä¸ºï¼š
```go
dp[i][j] = dp[i-1][j] + dp[i][j-1]		obstacleGrid[i][j] == 1
dp[i][j] = 0													obstacleGrid[i][j] == 0
```
3. åˆå§‹åŒ–ï¼š åœ¨åˆå§‹åŒ–é˜¶æ®µï¼Œæˆ‘ä»¬éå†ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ï¼Œå°†æ¯ä¸ªä½ç½®çš„è·¯å¾„æ•°é‡åˆå§‹åŒ–ä¸º1ï¼Œå› ä¸ºæœºå™¨äººåªèƒ½å‘ä¸‹æˆ–å‘å³ç§»åŠ¨ï¼Œæ‰€ä»¥æ²¿ç€ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—çš„è·¯å¾„æ•°é‡éƒ½åªæœ‰ä¸€ç§ã€‚å¹¶ä¸”åœ¨ç¬¬ä¸€åˆ—æŸå¤„è®¾æœ‰è·¯éšœä¹‹åï¼Œè¯¥åˆ—å¤„äºè¯¥å¤„åç»­çš„ä½ç½®å‡ä¸å¯è¾¾ï¼Œç¬¬ä¸€è¡Œä¹ŸåŒç†ã€‚

4. é€’æ¨æ±‚è§£ï¼š é€šè¿‡åµŒå¥—å¾ªç¯éå†æ•´ä¸ªäºŒç»´æ•°ç»„ï¼Œæ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹è®¡ç®—æ¯ä¸ªä½ç½®çš„ä¸åŒè·¯å¾„æ•°é‡ã€‚

5. è®¡ç®—æœ€ç»ˆç»“æœï¼š æœ€ç»ˆç»“æœå³ä¸ºåˆ°è¾¾å³ä¸‹è§’ä½ç½® `(m-1, n-1)` æ—¶çš„ä¸åŒè·¯å¾„æ•°é‡ã€‚

```go
func uniquePathsWithObstacles(obstacleGrid [][]int) int {
	m := len(obstacleGrid)
	n := len(obstacleGrid[0])
	dp := make([][]int, m)
	for i := 0; i < m; i++ {
		dp[i] = make([]int, n)
	}
	for i := 0; i < m; i++ {
		if obstacleGrid[i][0] == 1 {
			break
		}
		dp[i][0] = 1
	}
	for i := 0; i < n; i++ {
		if obstacleGrid[0][i] == 1 {
			break
		}
		dp[0][i] = 1
	}
	for i := 1; i < m; i++ {
		for j := 1; j < n; j++ {
			if obstacleGrid[i][j] == 0 {
				dp[i][j] += dp[i-1][j] + dp[i][j-1]
			}
		}
	}
	return dp[m-1][n-1]
}
```

**å¤æ‚åº¦ï¼š**

- æ—¶é—´å¤æ‚åº¦ï¼šO(M*N)ï¼Œå…¶ä¸­ M ä¸º m çš„å€¼ï¼ŒN ä¸º n çš„å€¼ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(M*N)ï¼Œå…¶ä¸­ M ä¸º m çš„å€¼ï¼ŒN ä¸º n çš„å€¼ã€‚

**æ‰§è¡Œç»“æœï¼š**

- æ‰§è¡Œè€—æ—¶:0 ms,å‡»è´¥äº†100.00% çš„Goç”¨æˆ·
- å†…å­˜æ¶ˆè€—:2.3 MB,å‡»è´¥äº†75.28% çš„Goç”¨æˆ·
